<!DOCTYPE html>
<head>    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 93.0%;margin:0;padding: 0.5%}</style>
    <body style="background-color:#d2e4e4;"></body>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    <link rel="stylesheet" href="Letra.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_f5225a84298bfe4b8a0b7738224a4a01 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
            </style>
        
    <script src="https://cdn.jsdelivr.net/gh/ardhi/Leaflet.MousePosition/src/L.Control.MousePosition.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/ardhi/Leaflet.MousePosition/src/L.Control.MousePosition.min.css"/>
    <link rel="stylesheet" href="Mouse.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <style>
  
        .rangeslider{
            width: 50%;
        }
          
        .myslider {
            -webkit-appearance: none;
            background: #999999  ;
            width: 50%;
            height: 10px;
            opacity: 2;
           }
          
          
        .myslider::-webkit-slider-thumb {
            -webkit-appearance: none;
            cursor: pointer;
            background: #000000  ;
            width: 1%;
            height: 20px;
        }
          
          
        .myslider:hover {
            opacity: 1;
        }
          
        </style>
        <style>
  
       .alinearizq {
          float: left;
        }
       .alinearder {
         float: right;
        }    
        </style>
       
</head>
<body>    
     <section>  
        <form method="get" action="Bortle.html">
            Este mapa ha sido elaborado en base a datos de satélite del VIIRS-DNB y de las redes de fotómetros de los proyectos EELabs y Star4all. Puede consultar los datos de los fotómetros de forma más detallada <A aling="right" HREF="https://data.eelabs.eu/?device=LPL5_001"> aquí </A><br>      
        <button class="boton" type="submit">Cambiar a Escala Bortle  </button>
        </form>      
        
        <div id="cuadrotexto">
            <p class="alinearizq"><b>Semana del <span id="demo"></span></b></p>
            <H4 class="alinearder"><A   HREF="https://forms.gle/vxiWT2euzuVSM4f89"> Valorar aplicación </A></H4>
          </div>

         
       
       <div class="rangeslider">
         <input type="range" min="1" max="100" value="1"
                       class="myslider" id="sliderRange">
        <p></p>
       </div>

       <script>
        
        //fetch('./personal.json')
        //.then((response) => response.json())
        //.then((json) => console.log(json));
        //console.log(JSON.parse(pepe.onchange))

        
        
     </script>
     <script src="Magnitudes.js"></script>
       <script>

        //var json
        //var request = new XMLHttpRequest();
                
                
        //request.onreadystatechange = function () {
          //  if (this.readyState === 4) {
            //const user = JSON.parse(this.responseText);
            //json=user;
            //}
            //};
                
             //   request.open('GET', 'https://www.dropbox.com/s/jaer0figzulq6kg/Magnitudes.json?dl=0',false);
               // request.send();
     </script> 
        
       <script>
          var rangeslider = document.getElementById("sliderRange");
          var output = document.getElementById("demo");
          rangeslider.max=json.length
          output.innerHTML = json[0]['Fecha'];
          //rangeslider.oninput = function() {
          //  output.innerHTML = this.value;
           // console.log(json[this.value]['name']);
          //}
       </script>
     </section>
    
            <div class="folium-map" id="map_f5225a84298bfe4b8a0b7738224a4a01" ></div>
    
</body>
<script> 
    let map_f5225a84298bfe4b8a0b7738224a4a01
        let borrar_mapa=function() {if (map_f5225a84298bfe4b8a0b7738224a4a01) {map_f5225a84298bfe4b8a0b7738224a4a01.remove();};}

        rangeslider.max=json.length
        let semana = parseInt(this.value,10);
        semana=1
        console.log('Semana: ',semana);
        output.innerHTML = json[semana-1]['Fecha'] 

            borrar_mapa()
            map_f5225a84298bfe4b8a0b7738224a4a01 = new L.map(
                "map_f5225a84298bfe4b8a0b7738224a4a01",
                {
                    center: [28.651839006006007, -17.8481312982983],
                    crs: L.CRS.EPSG3857,
                    maxBounds: [[26.408333000000002, -180], [30.895345012012015, 180]],
                    zoom: 11,
                    zoomControl: true,
                    preferCanvas: false,
                    maxLot: -16.0625,
                    minLot: -19.633762596596597,
                }
            );



            var tile_layer_8133b65bfffc838925d968955b8438fe = L.tileLayer(
                "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "Data by \u0026copy; \u003ca href=\"http://openstreetmap.org\"\u003eOpenStreetMap\u003c/a\u003e, under \u003ca href=\"http://www.openstreetmap.org/copyright\"\u003eODbL\u003c/a\u003e.", "detectRetina": false, "maxNativeZoom": 15, "maxZoom": 15, "minZoom": 9, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            ).addTo(map_f5225a84298bfe4b8a0b7738224a4a01);

            //Fotometros
        
            var feature_group_55142344bcb67d1eb04c25182d99c4f9 = L.featureGroup(
                {}
            ).addTo(map_f5225a84298bfe4b8a0b7738224a4a01);
                       
            for (var ilu=0;ilu<json[semana-1]['Estaciones'].length;ilu++){
            let circulo = L.circleMarker(
                [json[semana-1]['Estaciones'][ilu]['lat'], json[semana-1]['Estaciones'][ilu]['lon']],
                {"bubblingMouseEvents": true, "color": "black", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": json[semana-1]['Estaciones'][ilu]['color'], "fillOpacity": 0.9, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 2}
            ).addTo(feature_group_55142344bcb67d1eb04c25182d99c4f9);
            let popup_circulo = L.popup({"maxWidth": "100%"});
            let html_circulo = $('<div id="html_circulo" style="width: 100.0%; height: 100.0%;"><FONT SIZE=4><strong>'+json[semana-1]['Estaciones'][ilu]['name']+'</strong></FONT><br><FONT SIZE=2><strong>Magnitud:&nbsp</strong>'+json[semana-1]['Estaciones'][ilu]['mag'].toString()+'&nbspmag/arcsec<sup>2</sup><br><strong>Tipología:&nbsp</strong>'+json[semana-1]['Estaciones'][ilu]['TYPE']+'&nbsp<br><strong></div>')[0];
            popup_circulo.setContent(html_circulo);
            circulo.bindPopup(popup_circulo)
            }    

            //Lineas

            var feature_group_43c25bd31a7e8444d1ffc3bba05c72fb = L.featureGroup(
                {}
            ).addTo(map_f5225a84298bfe4b8a0b7738224a4a01);
 
            for (var ilu=0;ilu<json[semana-1]['Bordes'].length;ilu++){
            function estilo(feature) {
                switch(feature.id) {
                    default:
                           return {"color": "black", "lineCap": "round", "lineJoin": "round", "opacity": 1, "weight": 2};
                }
            }

            function EachFeature(feature, layer) {
                layer.on({
                    click: function(e) {
                        if (typeof e.target.getBounds === 'function') {
                          map_f5225a84298bfe4b8a0b7738224a4a01.fitBounds(e.target.getBounds());
                        }
                        else if (typeof e.target.getLatLng === 'function'){
                           let zoom = map_f5225a84298bfe4b8a0b7738224a4a01.getZoom()
                           zoom = zoom > 12 ? zoom : zoom + 1
                           map_f5225a84298bfe4b8a0b7738224a4a01.flyTo(e.target.getLatLng(), zoom)
                        }
                    }
                });
            };

            var Linea = L.geoJson(null, {
                smoothFactor: 1e-13,
                onEachFeature: EachFeature,
            
                style: estilo,
            });

            function Linea_add (data) {
                Linea
                .addData(data)
                .addTo(feature_group_43c25bd31a7e8444d1ffc3bba05c72fb);
            }

            Linea_add(json[semana-1]['Bordes'][ilu]['linea']);

            Linea.bindTooltip(
                '<div>'+json[semana-1]['Bordes'][ilu]['valor'].toString()+' mag</div>',
                {"sticky": true}
            );
        }
       
            //Mapa de color

            var image_overlay_f1794485d81a33de461c1e0895a8ede2 = L.imageOverlay(
                "data:image/png;base64,"+json[semana-1]['Imagen'],
                [[28.895345012012015, -18.0625], [28.408333000000002, -17.633762596596597]],
                {"crossOrigin": false, "interactive": false, "opacity": 0.7, "zindex": 1}
            ).addTo(map_f5225a84298bfe4b8a0b7738224a4a01);
        
    
            var layer_control_4c1b0e53b08f2ef5f8665664d3649a74 = {
                base_layers : {
                    "openstreetmap" : tile_layer_8133b65bfffc838925d968955b8438fe,
                },
                overlays :  {
                    "Fotómetros" : feature_group_55142344bcb67d1eb04c25182d99c4f9,
                    "Isolíneas" : feature_group_43c25bd31a7e8444d1ffc3bba05c72fb,
                    "Mapa de color" : image_overlay_f1794485d81a33de461c1e0895a8ede2,
                },
            };
            L.control.layers(
                layer_control_4c1b0e53b08f2ef5f8665664d3649a74.base_layers,
                layer_control_4c1b0e53b08f2ef5f8665664d3649a74.overlays,
                {"autoZIndex": true, "collapsed": true, "position": "topright"}
            ).addTo(map_f5225a84298bfe4b8a0b7738224a4a01);
            //feature_group_55142344bcb67d1eb04c25182d99c4f9.remove();
        
    
            var mouse_position_094cde35efecb953c62c130e2e6a9ce6 = new L.Control.MousePosition(
                {"emptyString": "NaN", "lngFirst": false, "numDigits": 20, "position": "bottomleft", "prefix": "Coordinates:", "separator": " | "}
            );
            //console.log(json[semana-1]['Raton']['STR'])
            mouse_position_094cde35efecb953c62c130e2e6a9ce6.options["latFormatter"] =
                function(num) {l=num;V=json[semana-1]['Raton']['V'];
                STR=json[semana-1]['Raton']['STR']; return L.Util.formatNum(num, 3) + ' º ';};;
            mouse_position_094cde35efecb953c62c130e2e6a9ce6.options["lngFormatter"] =
                function(num) {a=num; return L.Util.formatNum(num, 3) + ' º ';};;
            map_f5225a84298bfe4b8a0b7738224a4a01.addControl(mouse_position_094cde35efecb953c62c130e2e6a9ce6);
        
    
            var mouse_position_a4870eca352eca915b2546dda4aaad98 = new L.Control.MousePosition(
                {"emptyString": "NaN", "lngFirst": true, "numDigits": 20, "position": "bottomleft", "prefix": "Magnitud:", "separator": " "}
            );
            mouse_position_a4870eca352eca915b2546dda4aaad98.options["latFormatter"] =
                function(num) {return 'mag/arcsec<sup>2</sup>';};;
            mouse_position_a4870eca352eca915b2546dda4aaad98.options["lngFormatter"] =
                function(num) {num; F=STR[Math.round((l-V[2])/V[3])][Math.round((a-V[0])/V[1])]/100; if(F<0){F='NAN'}; return F};;
            map_f5225a84298bfe4b8a0b7738224a4a01.addControl(mouse_position_a4870eca352eca915b2546dda4aaad98);
        
    
    var color_map_5d6815f4c7947e3e6ed6361c521e71f6 = {};

    
    color_map_5d6815f4c7947e3e6ed6361c521e71f6.color = d3.scale.threshold()
              .domain([14.0, 14.02004008016032, 14.040080160320642, 14.060120240480963, 14.080160320641282, 14.100200400801603, 14.120240480961924, 14.140280561122244, 14.160320641282565, 14.180360721442886, 14.200400801603207, 14.220440881763526, 14.240480961923847, 14.260521042084168, 14.280561122244489, 14.30060120240481, 14.32064128256513, 14.340681362725451, 14.360721442885772, 14.380761523046091, 14.400801603206412, 14.420841683366733, 14.440881763527054, 14.460921843687375, 14.480961923847696, 14.501002004008017, 14.521042084168336, 14.541082164328657, 14.561122244488978, 14.581162324649299, 14.60120240480962, 14.62124248496994, 14.641282565130261, 14.661322645290582, 14.681362725450901, 14.701402805611222, 14.721442885771543, 14.741482965931864, 14.761523046092185, 14.781563126252506, 14.801603206412826, 14.821643286573146, 14.841683366733466, 14.861723446893787, 14.881763527054108, 14.901803607214429, 14.92184368737475, 14.94188376753507, 14.96192384769539, 14.98196392785571, 15.002004008016032, 15.022044088176353, 15.042084168336673, 15.062124248496994, 15.082164328657315, 15.102204408817634, 15.122244488977955, 15.142284569138276, 15.162324649298597, 15.182364729458918, 15.202404809619239, 15.22244488977956, 15.24248496993988, 15.2625250501002, 15.28256513026052, 15.302605210420841, 15.322645290581162, 15.342685370741483, 15.362725450901804, 15.382765531062125, 15.402805611222444, 15.422845691382765, 15.442885771543086, 15.462925851703407, 15.482965931863728, 15.503006012024048, 15.52304609218437, 15.54308617234469, 15.56312625250501, 15.58316633266533, 15.603206412825651, 15.623246492985972, 15.643286573146293, 15.663326653306614, 15.683366733466933, 15.703406813627254, 15.723446893787575, 15.743486973947896, 15.763527054108216, 15.783567134268537, 15.803607214428858, 15.823647294589179, 15.8436873747495, 15.863727454909819, 15.88376753507014, 15.90380761523046, 15.923847695390782, 15.943887775551103, 15.963927855711423, 15.983967935871743, 16.004008016032063, 16.024048096192384, 16.044088176352705, 16.064128256513026, 16.084168336673347, 16.104208416833668, 16.12424849699399, 16.14428857715431, 16.16432865731463, 16.18436873747495, 16.20440881763527, 16.22444889779559, 16.24448897795591, 16.26452905811623, 16.284569138276552, 16.304609218436873, 16.324649298597194, 16.344689378757515, 16.364729458917836, 16.384769539078157, 16.404809619238478, 16.4248496993988, 16.44488977955912, 16.46492985971944, 16.48496993987976, 16.505010020040082, 16.5250501002004, 16.54509018036072, 16.56513026052104, 16.585170340681362, 16.605210420841683, 16.625250501002004, 16.645290581162325, 16.665330661322646, 16.685370741482966, 16.705410821643287, 16.725450901803608, 16.74549098196393, 16.76553106212425, 16.785571142284567, 16.805611222444888, 16.82565130260521, 16.84569138276553, 16.86573146292585, 16.88577154308617, 16.905811623246493, 16.925851703406813, 16.945891783567134, 16.965931863727455, 16.985971943887776, 17.006012024048097, 17.026052104208418, 17.04609218436874, 17.06613226452906, 17.08617234468938, 17.1062124248497, 17.12625250501002, 17.14629258517034, 17.16633266533066, 17.18637274549098, 17.206412825651302, 17.226452905811623, 17.246492985971944, 17.266533066132265, 17.286573146292586, 17.306613226452907, 17.326653306613228, 17.34669338677355, 17.366733466933866, 17.386773547094187, 17.406813627254508, 17.42685370741483, 17.44689378757515, 17.46693386773547, 17.48697394789579, 17.507014028056112, 17.527054108216433, 17.547094188376754, 17.567134268537075, 17.587174348697395, 17.607214428857716, 17.627254509018037, 17.647294589178358, 17.66733466933868, 17.687374749499, 17.707414829659317, 17.727454909819638, 17.74749498997996, 17.76753507014028, 17.7875751503006, 17.80761523046092, 17.827655310621243, 17.847695390781563, 17.867735470941884, 17.887775551102205, 17.907815631262526, 17.927855711422847, 17.947895791583168, 17.967935871743485, 17.987975951903806, 18.008016032064127, 18.028056112224448, 18.04809619238477, 18.06813627254509, 18.08817635270541, 18.10821643286573, 18.128256513026052, 18.148296593186373, 18.168336673346694, 18.188376753507015, 18.208416833667336, 18.228456913827657, 18.248496993987978, 18.2685370741483, 18.28857715430862, 18.308617234468937, 18.328657314629258, 18.34869739478958, 18.3687374749499, 18.38877755511022, 18.40881763527054, 18.428857715430862, 18.448897795591183, 18.468937875751504, 18.488977955911825, 18.509018036072145, 18.529058116232463, 18.549098196392784, 18.569138276553105, 18.589178356713425, 18.609218436873746, 18.629258517034067, 18.649298597194388, 18.66933867735471, 18.68937875751503, 18.70941883767535, 18.72945891783567, 18.749498997995993, 18.769539078156313, 18.789579158316634, 18.809619238476955, 18.829659318637276, 18.849699398797597, 18.869739478957918, 18.889779559118235, 18.909819639278556, 18.929859719438877, 18.949899799599198, 18.96993987975952, 18.98997995991984, 19.01002004008016, 19.03006012024048, 19.050100200400802, 19.070140280561123, 19.090180360721444, 19.110220440881765, 19.130260521042082, 19.150300601202403, 19.170340681362724, 19.190380761523045, 19.210420841683366, 19.230460921843687, 19.250501002004007, 19.27054108216433, 19.29058116232465, 19.31062124248497, 19.33066132264529, 19.350701402805612, 19.370741482965933, 19.390781563126254, 19.410821643286575, 19.430861723446895, 19.450901803607216, 19.470941883767537, 19.490981963927855, 19.511022044088175, 19.531062124248496, 19.551102204408817, 19.571142284569138, 19.59118236472946, 19.61122244488978, 19.6312625250501, 19.65130260521042, 19.671342685370742, 19.691382765531063, 19.71142284569138, 19.7314629258517, 19.751503006012022, 19.771543086172343, 19.791583166332664, 19.811623246492985, 19.831663326653306, 19.851703406813627, 19.871743486973948, 19.89178356713427, 19.91182364729459, 19.93186372745491, 19.95190380761523, 19.971943887775552, 19.991983967935873, 20.012024048096194, 20.032064128256515, 20.052104208416836, 20.072144288577153, 20.092184368737474, 20.112224448897795, 20.132264529058116, 20.152304609218437, 20.172344689378757, 20.19238476953908, 20.2124248496994, 20.23246492985972, 20.25250501002004, 20.272545090180362, 20.29258517034068, 20.312625250501, 20.33266533066132, 20.352705410821642, 20.372745490981963, 20.392785571142284, 20.412825651302605, 20.432865731462925, 20.452905811623246, 20.472945891783567, 20.492985971943888, 20.51302605210421, 20.53306613226453, 20.55310621242485, 20.57314629258517, 20.593186372745492, 20.613226452905813, 20.633266533066134, 20.653306613226455, 20.673346693386772, 20.693386773547093, 20.713426853707414, 20.733466933867735, 20.753507014028056, 20.773547094188377, 20.793587174348698, 20.81362725450902, 20.83366733466934, 20.85370741482966, 20.87374749498998, 20.8937875751503, 20.91382765531062, 20.93386773547094, 20.95390781563126, 20.973947895791582, 20.993987975951903, 21.014028056112224, 21.034068136272545, 21.054108216432866, 21.074148296593187, 21.094188376753507, 21.11422845691383, 21.13426853707415, 21.15430861723447, 21.17434869739479, 21.194388777555112, 21.214428857715433, 21.234468937875754, 21.25450901803607, 21.274549098196392, 21.294589178356713, 21.314629258517034, 21.334669338677354, 21.354709418837675, 21.374749498997996, 21.394789579158317, 21.414829659318638, 21.43486973947896, 21.45490981963928, 21.474949899799597, 21.494989979959918, 21.51503006012024, 21.53507014028056, 21.55511022044088, 21.5751503006012, 21.595190380761522, 21.615230460921843, 21.635270541082164, 21.655310621242485, 21.675350701402806, 21.695390781563127, 21.715430861723448, 21.73547094188377, 21.75551102204409, 21.77555110220441, 21.79559118236473, 21.815631262525052, 21.83567134268537, 21.85571142284569, 21.87575150300601, 21.895791583166332, 21.915831663326653, 21.935871743486974, 21.955911823647295, 21.975951903807616, 21.995991983967937, 22.016032064128254, 22.036072144288575, 22.056112224448896, 22.076152304609217, 22.096192384769537, 22.11623246492986, 22.13627254509018, 22.1563126252505, 22.17635270541082, 22.196392785571142, 22.216432865731463, 22.236472945891784, 22.256513026052104, 22.276553106212425, 22.296593186372746, 22.316633266533067, 22.336673346693388, 22.35671342685371, 22.37675350701403, 22.39679358717435, 22.41683366733467, 22.436873747494992, 22.45691382765531, 22.47695390781563, 22.49699398797595, 22.517034068136272, 22.537074148296593, 22.557114228456914, 22.577154308617235, 22.597194388777556, 22.617234468937873, 22.637274549098194, 22.657314629258515, 22.677354709418836, 22.697394789579157, 22.717434869739478, 22.7374749498998, 22.75751503006012, 22.77755511022044, 22.79759519038076, 22.817635270541082, 22.837675350701403, 22.857715430861724, 22.877755511022045, 22.897795591182366, 22.917835671342687, 22.937875751503007, 22.95791583166333, 22.97795591182365, 22.99799599198397, 23.01803607214429, 23.038076152304612, 23.05811623246493, 23.07815631262525, 23.09819639278557, 23.118236472945892, 23.138276553106213, 23.158316633266534, 23.178356713426854, 23.19839679358717, 23.218436873747493, 23.238476953907814, 23.258517034068134, 23.278557114228455, 23.298597194388776, 23.318637274549097, 23.338677354709418, 23.35871743486974, 23.37875751503006, 23.39879759519038, 23.4188376753507, 23.438877755511022, 23.458917835671343, 23.478957915831664, 23.498997995991985, 23.519038076152306, 23.539078156312627, 23.559118236472948, 23.57915831663327, 23.59919839679359, 23.61923847695391, 23.639278557114228, 23.65931863727455, 23.67935871743487, 23.69939879759519, 23.71943887775551, 23.739478957915832, 23.759519038076153, 23.77955911823647, 23.79959919839679, 23.819639278557112, 23.839679358717433, 23.859719438877754, 23.879759519038075, 23.899799599198396, 23.919839679358716, 23.939879759519037, 23.95991983967936, 23.97995991983968, 24.0])
              .range(['#ffffffff', '#ffffffff', '#fffeffff', '#fffdffff', '#fffcffff', '#fffcffff', '#fffbffff', '#fffaffff', '#fff9ffff', '#fff8ffff', '#fff8ffff', '#fff7ffff', '#fff6ffff', '#fff5ffff', '#fff4ffff', '#fff4ffff', '#fff3ffff', '#fff2ffff', '#fff1ffff', '#fff0ffff', '#fff0ffff', '#ffefffff', '#ffeeffff', '#ffedffff', '#ffecffff', '#ffecffff', '#ffebffff', '#ffeaffff', '#ffe9ffff', '#ffe8ffff', '#ffe8ffff', '#ffe7ffff', '#ffe6ffff', '#ffe5ffff', '#ffe4ffff', '#ffe3ffff', '#ffe2ffff', '#ffe1ffff', '#ffe0feff', '#ffe0fdff', '#ffdffdff', '#ffdffcff', '#ffdffbff', '#ffdefaff', '#ffdef9ff', '#ffddf9ff', '#ffddf8ff', '#ffddf7ff', '#ffdcf6ff', '#fedcf5ff', '#fedbf5ff', '#fddbf3ff', '#fddbf0ff', '#fddbefff', '#fddbf0ff', '#fddbf1ff', '#fddcf0ff', '#fddceeff', '#fddcecff', '#fdddebff', '#fdddebff', '#fddeeaff', '#fddee9ff', '#fddfe8ff', '#fddfe7ff', '#fde0e7ff', '#fde1e6ff', '#fde2e6ff', '#fde3e5ff', '#fde3e5ff', '#fde4e5ff', '#fde5e4ff', '#fde6e4ff', '#fde7e3ff', '#fde7e3ff', '#fde8e3ff', '#fde9e3ff', '#fdeae2ff', '#fdebe1ff', '#fdebe1ff', '#fdece1ff', '#fdede0ff', '#fdeee0ff', '#fdefdfff', '#fdefdfff', '#fdf0dfff', '#fdf1deff', '#fdf2deff', '#fdf3ddff', '#fdf3ddff', '#fdf4ddff', '#fdf5dcff', '#fdf5dcff', '#fdf5dbff', '#fdf6dbff', '#fdf6dbff', '#fdf6daff', '#fdf6daff', '#fcf6d9ff', '#fcf6d9ff', '#fbf6d9ff', '#faf7d8ff', '#f9f7d8ff', '#f8f7d8ff', '#f8f8d8ff', '#f7f8d8ff', '#f6f9d8ff', '#f5f9d8ff', '#f4f9d7ff', '#f4fad7ff', '#f3fad7ff', '#f2fbd7ff', '#f1fbd7ff', '#f0fbd6ff', '#f0fcd6ff', '#effcd6ff', '#eefdd6ff', '#edfdd6ff', '#ecfdd6ff', '#ecfed6ff', '#ebfed6ff', '#eaffd6ff', '#e9ffd6ff', '#e8ffd6ff', '#e8ffd7ff', '#e7ffd8ff', '#e6ffd9ff', '#e5ffdaff', '#e4ffdaff', '#e3ffdbff', '#e3ffdcff', '#e2ffddff', '#e1ffdeff', '#e0ffdeff', '#e0ffdfff', '#e0ffe0ff', '#dfffe1ff', '#dfffe2ff', '#deffe2ff', '#deffe3ff', '#deffe4ff', '#ddffe5ff', '#ddffe6ff', '#dcffe6ff', '#dcffe7ff', '#dcffe8ff', '#dbffe9ff', '#dbffeaff', '#daffeaff', '#daffebff', '#daffecff', '#d9ffedff', '#d9ffeeff', '#d9feeeff', '#d9feefff', '#d9fef0ff', '#d9fdf1ff', '#d9fdf2ff', '#d9fcf2ff', '#d9fcf3ff', '#d9fcf4ff', '#d9fbf5ff', '#d9fbf6ff', '#d9faf6ff', '#d9faf7ff', '#d9faf8ff', '#d9f9f9ff', '#d9f9faff', '#d9f8faff', '#d9f8fbff', '#d9f8fcff', '#d9f7fdff', '#d9f7feff', '#d9f6feff', '#d9f6feff', '#d9f5feff', '#d8f4feff', '#d8f3feff', '#d7f2feff', '#d7f2feff', '#d7f1feff', '#d6f0fdff', '#d6effdff', '#d5eefdff', '#d5ecfcff', '#d5ebfcff', '#d4eafbff', '#d4e9fbff', '#d3e8fbff', '#d3e6faff', '#d3e5faff', '#d2e4f9ff', '#d2e3f9ff', '#d1e2f9ff', '#d1e0f8ff', '#d1dff8ff', '#d0def7ff', '#d0dcf7ff', '#cfdbf7ff', '#cfd8f8ff', '#cfd6f8ff', '#cfd3f8ff', '#cfcef7ff', '#cfc9f7ff', '#d0c4f6ff', '#d0bef5ff', '#d0b8f4ff', '#d1b2f3ff', '#d1abf3ff', '#d2a5f1ff', '#d39ff0ff', '#d498eeff', '#d492ecff', '#d58beaff', '#d686e7ff', '#d780e3ff', '#d87bdfff', '#d876dbff', '#d971d7ff', '#da6dd3ff', '#db6acfff', '#dc67caff', '#dc64c3ff', '#dd62bdff', '#de5fb7ff', '#df5cb1ff', '#df59abff', '#e056a5ff', '#e0549fff', '#e05198ff', '#e04d91ff', '#e04a8bff', '#df4784ff', '#df447dff', '#de4176ff', '#dd3d6fff', '#dc3a69ff', '#db3764ff', '#db345fff', '#da3159ff', '#d92e54ff', '#d82b4fff', '#d7294aff', '#d72645ff', '#d62541ff', '#d5233cff', '#d42137ff', '#d32035ff', '#d31e32ff', '#d21d2fff', '#d11b2cff', '#d01b2bff', '#cf1e2aff', '#ce212aff', '#ce2529ff', '#cd2829ff', '#cc2c29ff', '#cc3028ff', '#cb3328ff', '#cb3927ff', '#cb3f27ff', '#cc4427ff', '#cc4926ff', '#cd4d26ff', '#cf5225ff', '#d15725ff', '#d35c25ff', '#d56124ff', '#d86724ff', '#da6d23ff', '#dd7323ff', '#df7a23ff', '#e18122ff', '#e48822ff', '#e69021ff', '#e79821ff', '#e99f21ff', '#eba520ff', '#eeaa20ff', '#f0af1fff', '#f1b41fff', '#f3b81fff', '#f4bd1eff', '#f6c21eff', '#f9c61eff', '#fcca1eff', '#fece1eff', '#fccf1eff', '#f9d11fff', '#f5d01fff', '#f0cf1fff', '#eace20ff', '#e5cc20ff', '#e0ca21ff', '#d9c821ff', '#d2c721ff', '#cbc521ff', '#c4c421ff', '#bdc321ff', '#b6c121ff', '#aec021ff', '#a7be21ff', '#9fbd21ff', '#97bd21ff', '#8fbc21ff', '#86bb22ff', '#7eba23ff', '#76ba25ff', '#6fb927ff', '#67b929ff', '#5fb92bff', '#57b92dff', '#53ba31ff', '#4eba34ff', '#49bb38ff', '#45bb3cff', '#42bc40ff', '#3ebd45ff', '#3bbe4aff', '#39bf4fff', '#37bf55ff', '#35c05bff', '#33c161ff', '#32c267ff', '#31c36dff', '#30c473ff', '#2fc578ff', '#2dc77eff', '#2cc883ff', '#2bc889ff', '#29c98fff', '#28c994ff', '#26c99aff', '#24c8a0ff', '#23c8a6ff', '#22c6abff', '#21c5b0ff', '#1fc4b5ff', '#1ec2bbff', '#1dc0c0ff', '#1bbec4ff', '#1abcc9ff', '#18b8ccff', '#17b4d0ff', '#16b0d2ff', '#15abd4ff', '#14a6d6ff', '#12a2d8ff', '#119dd9ff', '#1198dbff', '#1193dbff', '#118edcff', '#118adcff', '#1285dcff', '#1380dcff', '#147bdcff', '#1476dcff', '#1572dcff', '#166ddcff', '#1768dcff', '#1863dcff', '#185edbff', '#195adbff', '#1a55daff', '#1b50d9ff', '#1c4bd8ff', '#1c46d7ff', '#1d42d7ff', '#1e3dd6ff', '#1f38d5ff', '#2033d4ff', '#202fd3ff', '#212ad3ff', '#2226d2ff', '#2323d1ff', '#251fcfff', '#261cceff', '#291acdff', '#2b19ccff', '#2e19cbff', '#3119c9ff', '#341ac8ff', '#371ac7ff', '#391ac5ff', '#3c1bc3ff', '#3f1cc1ff', '#421dbfff', '#451dbdff', '#471ebbff', '#4a1fb9ff', '#4d20b7ff', '#5021b4ff', '#5221b1ff', '#5422adff', '#5523a9ff', '#5724a6ff', '#5825a2ff', '#59259fff', '#5a269bff', '#5b2797ff', '#5c2894ff', '#5d2a90ff', '#5c2b8dff', '#5c2d89ff', '#5c2f85ff', '#5b3182ff', '#5a337eff', '#59357bff', '#583777ff', '#573873ff', '#563970ff', '#553b6cff', '#543c69ff', '#533d65ff', '#513e62ff', '#503e5eff', '#4f3f5aff', '#4e3f57ff', '#4d3f53ff', '#4b3e50ff', '#4a3d4cff', '#493c49ff', '#483a46ff', '#473944ff', '#463741ff', '#45353fff', '#44333cff', '#43313aff', '#422f37ff', '#422d35ff', '#412c33ff', '#402a30ff', '#3f282eff', '#3e272cff', '#3e252aff', '#3d2529ff', '#3c2427ff', '#3b2326ff', '#3a2225ff', '#3a2123ff', '#392122ff', '#382021ff', '#371f20ff', '#361e1fff', '#361d1eff', '#351d1eff', '#341c1dff', '#331b1cff', '#321a1bff', '#311a1aff', '#30191aff', '#2e1919ff', '#2d1818ff', '#2b1717ff', '#291616ff', '#281616ff', '#261515ff', '#251414ff', '#231313ff', '#211212ff', '#201212ff', '#1e1111ff', '#1d1010ff', '#1b0f0fff', '#190e0eff', '#180e0eff', '#160d0dff', '#150c0cff', '#130c0cff', '#110b0bff', '#100b0bff', '#0e0b0bff', '#0d0a0aff', '#0b0a0aff', '#090909ff', '#090909ff', '#090909ff', '#080808ff', '#080808ff', '#070707ff', '#070707ff', '#070707ff', '#060606ff', '#060606ff', '#050505ff', '#050505ff', '#050505ff', '#040404ff', '#040404ff', '#030303ff', '#030303ff', '#030303ff', '#020202ff', '#020202ff', '#040404ff', '#696969ff', '#cececeff', '#cbcbcbff', '#656565ff', '#000000ff']);
    

    color_map_5d6815f4c7947e3e6ed6361c521e71f6.x = d3.scale.linear()
              .domain([14.0, 24.0])
              .range([0, 400]);

    color_map_5d6815f4c7947e3e6ed6361c521e71f6.legend = L.control({position: 'topright'});
    color_map_5d6815f4c7947e3e6ed6361c521e71f6.legend.onAdd = function (map) {var div = L.DomUtil.create('div', 'legend'); return div};
    color_map_5d6815f4c7947e3e6ed6361c521e71f6.legend.addTo(map_f5225a84298bfe4b8a0b7738224a4a01);

    color_map_5d6815f4c7947e3e6ed6361c521e71f6.xAxis = d3.svg.axis()
        .scale(color_map_5d6815f4c7947e3e6ed6361c521e71f6.x)
        .orient("top")
        .tickSize(1)
        .tickValues([14.0, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 15.004999999999999, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 16.009999999999998, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 17.015, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 18.02, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 19.025, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 20.03, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 21.035, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 22.04, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 23.045, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '']);

    color_map_5d6815f4c7947e3e6ed6361c521e71f6.svg = d3.select(".legend.leaflet-control").append("svg")
        .attr("id", 'legend')
        .attr("width", 450)
        .attr("height", 60);

    color_map_5d6815f4c7947e3e6ed6361c521e71f6.g = color_map_5d6815f4c7947e3e6ed6361c521e71f6.svg.append("g")
        .attr("class", "key")
        .attr("transform", "translate(25,22)");

    color_map_5d6815f4c7947e3e6ed6361c521e71f6.g.selectAll("rect")
        .data(color_map_5d6815f4c7947e3e6ed6361c521e71f6.color.range().map(function(d, i) {
          return {
            x0: i ? color_map_5d6815f4c7947e3e6ed6361c521e71f6.x(color_map_5d6815f4c7947e3e6ed6361c521e71f6.color.domain()[i - 1]) : color_map_5d6815f4c7947e3e6ed6361c521e71f6.x.range()[0],
            x1: i < color_map_5d6815f4c7947e3e6ed6361c521e71f6.color.domain().length ? color_map_5d6815f4c7947e3e6ed6361c521e71f6.x(color_map_5d6815f4c7947e3e6ed6361c521e71f6.color.domain()[i]) : color_map_5d6815f4c7947e3e6ed6361c521e71f6.x.range()[1],
            z: d
          };
        }))
      .enter().append("rect")
        .attr("height", 15)
        .attr("x", function(d) { return d.x0; })
        .attr("width", function(d) { return d.x1 - d.x0; })
        .style("fill", function(d) { return d.z; });

    color_map_5d6815f4c7947e3e6ed6361c521e71f6.g.call(color_map_5d6815f4c7947e3e6ed6361c521e71f6.xAxis).append("text")
        .attr("class", "caption")
        .attr("y", 32)
        .text('Magnitud');
</script>
<script> 
    //let map_f5225a84298bfe4b8a0b7738224a4a01
    rangeslider.oninput = async function() {
        let borrar_mapa=function() {if (map_f5225a84298bfe4b8a0b7738224a4a01) {map_f5225a84298bfe4b8a0b7738224a4a01.remove();};}

        rangeslider.max=json.length
        let semana = parseInt(this.value,10);
        console.log('Semana: ',semana);
        output.innerHTML = json[semana-1]['Fecha'] 

            borrar_mapa()
            map_f5225a84298bfe4b8a0b7738224a4a01 = new L.map(
                "map_f5225a84298bfe4b8a0b7738224a4a01",
                {
                    center: [28.651839006006007, -17.8481312982983],
                    crs: L.CRS.EPSG3857,
                    maxBounds: [[26.408333000000002, -180], [30.895345012012015, 180]],
                    zoom: 11,
                    zoomControl: true,
                    preferCanvas: false,
                    maxLot: -16.0625,
                    minLot: -19.633762596596597,
                }
            );



            var tile_layer_8133b65bfffc838925d968955b8438fe = L.tileLayer(
                "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "Data by \u0026copy; \u003ca href=\"http://openstreetmap.org\"\u003eOpenStreetMap\u003c/a\u003e, under \u003ca href=\"http://www.openstreetmap.org/copyright\"\u003eODbL\u003c/a\u003e.", "detectRetina": false, "maxNativeZoom": 15, "maxZoom": 15, "minZoom": 9, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            ).addTo(map_f5225a84298bfe4b8a0b7738224a4a01);

            //Fotometros
        
            var feature_group_55142344bcb67d1eb04c25182d99c4f9 = L.featureGroup(
                {}
            ).addTo(map_f5225a84298bfe4b8a0b7738224a4a01);
                       
            for (var ilu=0;ilu<json[semana-1]['Estaciones'].length;ilu++){
            let circulo = L.circleMarker(
                [json[semana-1]['Estaciones'][ilu]['lat'], json[semana-1]['Estaciones'][ilu]['lon']],
                {"bubblingMouseEvents": true, "color": "black", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": json[semana-1]['Estaciones'][ilu]['color'], "fillOpacity": 0.9, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 6, "stroke": true, "weight": 2}
            ).addTo(feature_group_55142344bcb67d1eb04c25182d99c4f9);
            let popup_circulo = L.popup({"maxWidth": "100%"});
            let html_circulo = $('<div id="html_circulo" style="width: 100.0%; height: 100.0%;"><FONT SIZE=4><strong>'+json[semana-1]['Estaciones'][ilu]['name']+'</strong></FONT><br><FONT SIZE=2><strong>Magnitud:&nbsp</strong>'+json[semana-1]['Estaciones'][ilu]['mag'].toString()+'&nbspmag/arcsec<sup>2</sup><br><strong>Tipología:&nbsp</strong>'+json[semana-1]['Estaciones'][ilu]['TYPE']+'&nbsp<br><strong></div>')[0];
            popup_circulo.setContent(html_circulo);
            circulo.bindPopup(popup_circulo)
            }    

            //Lineas

            var feature_group_43c25bd31a7e8444d1ffc3bba05c72fb = L.featureGroup(
                {}
            ).addTo(map_f5225a84298bfe4b8a0b7738224a4a01);
 
            for (var ilu=0;ilu<json[semana-1]['Bordes'].length;ilu++){
            function estilo(feature) {
                switch(feature.id) {
                    default:
                           return {"color": "black", "lineCap": "round", "lineJoin": "round", "opacity": 1, "weight": 2};
                }
            }

            function EachFeature(feature, layer) {
                layer.on({
                    click: function(e) {
                        if (typeof e.target.getBounds === 'function') {
                          map_f5225a84298bfe4b8a0b7738224a4a01.fitBounds(e.target.getBounds());
                        }
                        else if (typeof e.target.getLatLng === 'function'){
                           let zoom = map_f5225a84298bfe4b8a0b7738224a4a01.getZoom()
                           zoom = zoom > 12 ? zoom : zoom + 1
                           map_f5225a84298bfe4b8a0b7738224a4a01.flyTo(e.target.getLatLng(), zoom)
                        }
                    }
                });
            };

            var Linea = L.geoJson(null, {
                smoothFactor: 1e-13,
                onEachFeature: EachFeature,
            
                style: estilo,
            });

            function Linea_add (data) {
                Linea
                .addData(data)
                .addTo(feature_group_43c25bd31a7e8444d1ffc3bba05c72fb);
            }

            Linea_add(json[semana-1]['Bordes'][ilu]['linea']);

            Linea.bindTooltip(
                '<div>'+json[semana-1]['Bordes'][ilu]['valor'].toString()+' mag</div>',
                {"sticky": true}
            );
        }
       
            //Mapa de color

            var image_overlay_f1794485d81a33de461c1e0895a8ede2 = L.imageOverlay(
                "data:image/png;base64,"+json[semana-1]['Imagen'],
                [[28.895345012012015, -18.0625], [28.408333000000002, -17.633762596596597]],
                {"crossOrigin": false, "interactive": false, "opacity": 0.7, "zindex": 1}
            ).addTo(map_f5225a84298bfe4b8a0b7738224a4a01);
        
    
            var layer_control_4c1b0e53b08f2ef5f8665664d3649a74 = {
                base_layers : {
                    "openstreetmap" : tile_layer_8133b65bfffc838925d968955b8438fe,
                },
                overlays :  {
                    "Fotómetros" : feature_group_55142344bcb67d1eb04c25182d99c4f9,
                    "Isolíneas" : feature_group_43c25bd31a7e8444d1ffc3bba05c72fb,
                    "Mapa de color" : image_overlay_f1794485d81a33de461c1e0895a8ede2,
                },
            };
            L.control.layers(
                layer_control_4c1b0e53b08f2ef5f8665664d3649a74.base_layers,
                layer_control_4c1b0e53b08f2ef5f8665664d3649a74.overlays,
                {"autoZIndex": true, "collapsed": true, "position": "topright"}
            ).addTo(map_f5225a84298bfe4b8a0b7738224a4a01);
            //feature_group_55142344bcb67d1eb04c25182d99c4f9.remove();
        
    
            var mouse_position_094cde35efecb953c62c130e2e6a9ce6 = new L.Control.MousePosition(
                {"emptyString": "NaN", "lngFirst": false, "numDigits": 20, "position": "bottomleft", "prefix": "Coordinates:", "separator": " | "}
            );
            //console.log(json[semana-1]['Raton']['STR'])
            mouse_position_094cde35efecb953c62c130e2e6a9ce6.options["latFormatter"] =
                function(num) {l=num;V=json[semana-1]['Raton']['V'];
                STR=json[semana-1]['Raton']['STR']; return L.Util.formatNum(num, 3) + ' º ';};;
            mouse_position_094cde35efecb953c62c130e2e6a9ce6.options["lngFormatter"] =
                function(num) {a=num; return L.Util.formatNum(num, 3) + ' º ';};;
            map_f5225a84298bfe4b8a0b7738224a4a01.addControl(mouse_position_094cde35efecb953c62c130e2e6a9ce6);
        
    
            var mouse_position_a4870eca352eca915b2546dda4aaad98 = new L.Control.MousePosition(
                {"emptyString": "NaN", "lngFirst": true, "numDigits": 20, "position": "bottomleft", "prefix": "Magnitud:", "separator": " "}
            );
            mouse_position_a4870eca352eca915b2546dda4aaad98.options["latFormatter"] =
                function(num) {return 'mag/arcsec<sup>2</sup>';};;
            mouse_position_a4870eca352eca915b2546dda4aaad98.options["lngFormatter"] =
                function(num) {num; F=STR[Math.round((l-V[2])/V[3])][Math.round((a-V[0])/V[1])]/100; if(F<0){F='NAN'}; return F};;
            map_f5225a84298bfe4b8a0b7738224a4a01.addControl(mouse_position_a4870eca352eca915b2546dda4aaad98);
        
    
    var color_map_5d6815f4c7947e3e6ed6361c521e71f6 = {};

    
    color_map_5d6815f4c7947e3e6ed6361c521e71f6.color = d3.scale.threshold()
              .domain([14.0, 14.02004008016032, 14.040080160320642, 14.060120240480963, 14.080160320641282, 14.100200400801603, 14.120240480961924, 14.140280561122244, 14.160320641282565, 14.180360721442886, 14.200400801603207, 14.220440881763526, 14.240480961923847, 14.260521042084168, 14.280561122244489, 14.30060120240481, 14.32064128256513, 14.340681362725451, 14.360721442885772, 14.380761523046091, 14.400801603206412, 14.420841683366733, 14.440881763527054, 14.460921843687375, 14.480961923847696, 14.501002004008017, 14.521042084168336, 14.541082164328657, 14.561122244488978, 14.581162324649299, 14.60120240480962, 14.62124248496994, 14.641282565130261, 14.661322645290582, 14.681362725450901, 14.701402805611222, 14.721442885771543, 14.741482965931864, 14.761523046092185, 14.781563126252506, 14.801603206412826, 14.821643286573146, 14.841683366733466, 14.861723446893787, 14.881763527054108, 14.901803607214429, 14.92184368737475, 14.94188376753507, 14.96192384769539, 14.98196392785571, 15.002004008016032, 15.022044088176353, 15.042084168336673, 15.062124248496994, 15.082164328657315, 15.102204408817634, 15.122244488977955, 15.142284569138276, 15.162324649298597, 15.182364729458918, 15.202404809619239, 15.22244488977956, 15.24248496993988, 15.2625250501002, 15.28256513026052, 15.302605210420841, 15.322645290581162, 15.342685370741483, 15.362725450901804, 15.382765531062125, 15.402805611222444, 15.422845691382765, 15.442885771543086, 15.462925851703407, 15.482965931863728, 15.503006012024048, 15.52304609218437, 15.54308617234469, 15.56312625250501, 15.58316633266533, 15.603206412825651, 15.623246492985972, 15.643286573146293, 15.663326653306614, 15.683366733466933, 15.703406813627254, 15.723446893787575, 15.743486973947896, 15.763527054108216, 15.783567134268537, 15.803607214428858, 15.823647294589179, 15.8436873747495, 15.863727454909819, 15.88376753507014, 15.90380761523046, 15.923847695390782, 15.943887775551103, 15.963927855711423, 15.983967935871743, 16.004008016032063, 16.024048096192384, 16.044088176352705, 16.064128256513026, 16.084168336673347, 16.104208416833668, 16.12424849699399, 16.14428857715431, 16.16432865731463, 16.18436873747495, 16.20440881763527, 16.22444889779559, 16.24448897795591, 16.26452905811623, 16.284569138276552, 16.304609218436873, 16.324649298597194, 16.344689378757515, 16.364729458917836, 16.384769539078157, 16.404809619238478, 16.4248496993988, 16.44488977955912, 16.46492985971944, 16.48496993987976, 16.505010020040082, 16.5250501002004, 16.54509018036072, 16.56513026052104, 16.585170340681362, 16.605210420841683, 16.625250501002004, 16.645290581162325, 16.665330661322646, 16.685370741482966, 16.705410821643287, 16.725450901803608, 16.74549098196393, 16.76553106212425, 16.785571142284567, 16.805611222444888, 16.82565130260521, 16.84569138276553, 16.86573146292585, 16.88577154308617, 16.905811623246493, 16.925851703406813, 16.945891783567134, 16.965931863727455, 16.985971943887776, 17.006012024048097, 17.026052104208418, 17.04609218436874, 17.06613226452906, 17.08617234468938, 17.1062124248497, 17.12625250501002, 17.14629258517034, 17.16633266533066, 17.18637274549098, 17.206412825651302, 17.226452905811623, 17.246492985971944, 17.266533066132265, 17.286573146292586, 17.306613226452907, 17.326653306613228, 17.34669338677355, 17.366733466933866, 17.386773547094187, 17.406813627254508, 17.42685370741483, 17.44689378757515, 17.46693386773547, 17.48697394789579, 17.507014028056112, 17.527054108216433, 17.547094188376754, 17.567134268537075, 17.587174348697395, 17.607214428857716, 17.627254509018037, 17.647294589178358, 17.66733466933868, 17.687374749499, 17.707414829659317, 17.727454909819638, 17.74749498997996, 17.76753507014028, 17.7875751503006, 17.80761523046092, 17.827655310621243, 17.847695390781563, 17.867735470941884, 17.887775551102205, 17.907815631262526, 17.927855711422847, 17.947895791583168, 17.967935871743485, 17.987975951903806, 18.008016032064127, 18.028056112224448, 18.04809619238477, 18.06813627254509, 18.08817635270541, 18.10821643286573, 18.128256513026052, 18.148296593186373, 18.168336673346694, 18.188376753507015, 18.208416833667336, 18.228456913827657, 18.248496993987978, 18.2685370741483, 18.28857715430862, 18.308617234468937, 18.328657314629258, 18.34869739478958, 18.3687374749499, 18.38877755511022, 18.40881763527054, 18.428857715430862, 18.448897795591183, 18.468937875751504, 18.488977955911825, 18.509018036072145, 18.529058116232463, 18.549098196392784, 18.569138276553105, 18.589178356713425, 18.609218436873746, 18.629258517034067, 18.649298597194388, 18.66933867735471, 18.68937875751503, 18.70941883767535, 18.72945891783567, 18.749498997995993, 18.769539078156313, 18.789579158316634, 18.809619238476955, 18.829659318637276, 18.849699398797597, 18.869739478957918, 18.889779559118235, 18.909819639278556, 18.929859719438877, 18.949899799599198, 18.96993987975952, 18.98997995991984, 19.01002004008016, 19.03006012024048, 19.050100200400802, 19.070140280561123, 19.090180360721444, 19.110220440881765, 19.130260521042082, 19.150300601202403, 19.170340681362724, 19.190380761523045, 19.210420841683366, 19.230460921843687, 19.250501002004007, 19.27054108216433, 19.29058116232465, 19.31062124248497, 19.33066132264529, 19.350701402805612, 19.370741482965933, 19.390781563126254, 19.410821643286575, 19.430861723446895, 19.450901803607216, 19.470941883767537, 19.490981963927855, 19.511022044088175, 19.531062124248496, 19.551102204408817, 19.571142284569138, 19.59118236472946, 19.61122244488978, 19.6312625250501, 19.65130260521042, 19.671342685370742, 19.691382765531063, 19.71142284569138, 19.7314629258517, 19.751503006012022, 19.771543086172343, 19.791583166332664, 19.811623246492985, 19.831663326653306, 19.851703406813627, 19.871743486973948, 19.89178356713427, 19.91182364729459, 19.93186372745491, 19.95190380761523, 19.971943887775552, 19.991983967935873, 20.012024048096194, 20.032064128256515, 20.052104208416836, 20.072144288577153, 20.092184368737474, 20.112224448897795, 20.132264529058116, 20.152304609218437, 20.172344689378757, 20.19238476953908, 20.2124248496994, 20.23246492985972, 20.25250501002004, 20.272545090180362, 20.29258517034068, 20.312625250501, 20.33266533066132, 20.352705410821642, 20.372745490981963, 20.392785571142284, 20.412825651302605, 20.432865731462925, 20.452905811623246, 20.472945891783567, 20.492985971943888, 20.51302605210421, 20.53306613226453, 20.55310621242485, 20.57314629258517, 20.593186372745492, 20.613226452905813, 20.633266533066134, 20.653306613226455, 20.673346693386772, 20.693386773547093, 20.713426853707414, 20.733466933867735, 20.753507014028056, 20.773547094188377, 20.793587174348698, 20.81362725450902, 20.83366733466934, 20.85370741482966, 20.87374749498998, 20.8937875751503, 20.91382765531062, 20.93386773547094, 20.95390781563126, 20.973947895791582, 20.993987975951903, 21.014028056112224, 21.034068136272545, 21.054108216432866, 21.074148296593187, 21.094188376753507, 21.11422845691383, 21.13426853707415, 21.15430861723447, 21.17434869739479, 21.194388777555112, 21.214428857715433, 21.234468937875754, 21.25450901803607, 21.274549098196392, 21.294589178356713, 21.314629258517034, 21.334669338677354, 21.354709418837675, 21.374749498997996, 21.394789579158317, 21.414829659318638, 21.43486973947896, 21.45490981963928, 21.474949899799597, 21.494989979959918, 21.51503006012024, 21.53507014028056, 21.55511022044088, 21.5751503006012, 21.595190380761522, 21.615230460921843, 21.635270541082164, 21.655310621242485, 21.675350701402806, 21.695390781563127, 21.715430861723448, 21.73547094188377, 21.75551102204409, 21.77555110220441, 21.79559118236473, 21.815631262525052, 21.83567134268537, 21.85571142284569, 21.87575150300601, 21.895791583166332, 21.915831663326653, 21.935871743486974, 21.955911823647295, 21.975951903807616, 21.995991983967937, 22.016032064128254, 22.036072144288575, 22.056112224448896, 22.076152304609217, 22.096192384769537, 22.11623246492986, 22.13627254509018, 22.1563126252505, 22.17635270541082, 22.196392785571142, 22.216432865731463, 22.236472945891784, 22.256513026052104, 22.276553106212425, 22.296593186372746, 22.316633266533067, 22.336673346693388, 22.35671342685371, 22.37675350701403, 22.39679358717435, 22.41683366733467, 22.436873747494992, 22.45691382765531, 22.47695390781563, 22.49699398797595, 22.517034068136272, 22.537074148296593, 22.557114228456914, 22.577154308617235, 22.597194388777556, 22.617234468937873, 22.637274549098194, 22.657314629258515, 22.677354709418836, 22.697394789579157, 22.717434869739478, 22.7374749498998, 22.75751503006012, 22.77755511022044, 22.79759519038076, 22.817635270541082, 22.837675350701403, 22.857715430861724, 22.877755511022045, 22.897795591182366, 22.917835671342687, 22.937875751503007, 22.95791583166333, 22.97795591182365, 22.99799599198397, 23.01803607214429, 23.038076152304612, 23.05811623246493, 23.07815631262525, 23.09819639278557, 23.118236472945892, 23.138276553106213, 23.158316633266534, 23.178356713426854, 23.19839679358717, 23.218436873747493, 23.238476953907814, 23.258517034068134, 23.278557114228455, 23.298597194388776, 23.318637274549097, 23.338677354709418, 23.35871743486974, 23.37875751503006, 23.39879759519038, 23.4188376753507, 23.438877755511022, 23.458917835671343, 23.478957915831664, 23.498997995991985, 23.519038076152306, 23.539078156312627, 23.559118236472948, 23.57915831663327, 23.59919839679359, 23.61923847695391, 23.639278557114228, 23.65931863727455, 23.67935871743487, 23.69939879759519, 23.71943887775551, 23.739478957915832, 23.759519038076153, 23.77955911823647, 23.79959919839679, 23.819639278557112, 23.839679358717433, 23.859719438877754, 23.879759519038075, 23.899799599198396, 23.919839679358716, 23.939879759519037, 23.95991983967936, 23.97995991983968, 24.0])
              .range(['#ffffffff', '#ffffffff', '#fffeffff', '#fffdffff', '#fffcffff', '#fffcffff', '#fffbffff', '#fffaffff', '#fff9ffff', '#fff8ffff', '#fff8ffff', '#fff7ffff', '#fff6ffff', '#fff5ffff', '#fff4ffff', '#fff4ffff', '#fff3ffff', '#fff2ffff', '#fff1ffff', '#fff0ffff', '#fff0ffff', '#ffefffff', '#ffeeffff', '#ffedffff', '#ffecffff', '#ffecffff', '#ffebffff', '#ffeaffff', '#ffe9ffff', '#ffe8ffff', '#ffe8ffff', '#ffe7ffff', '#ffe6ffff', '#ffe5ffff', '#ffe4ffff', '#ffe3ffff', '#ffe2ffff', '#ffe1ffff', '#ffe0feff', '#ffe0fdff', '#ffdffdff', '#ffdffcff', '#ffdffbff', '#ffdefaff', '#ffdef9ff', '#ffddf9ff', '#ffddf8ff', '#ffddf7ff', '#ffdcf6ff', '#fedcf5ff', '#fedbf5ff', '#fddbf3ff', '#fddbf0ff', '#fddbefff', '#fddbf0ff', '#fddbf1ff', '#fddcf0ff', '#fddceeff', '#fddcecff', '#fdddebff', '#fdddebff', '#fddeeaff', '#fddee9ff', '#fddfe8ff', '#fddfe7ff', '#fde0e7ff', '#fde1e6ff', '#fde2e6ff', '#fde3e5ff', '#fde3e5ff', '#fde4e5ff', '#fde5e4ff', '#fde6e4ff', '#fde7e3ff', '#fde7e3ff', '#fde8e3ff', '#fde9e3ff', '#fdeae2ff', '#fdebe1ff', '#fdebe1ff', '#fdece1ff', '#fdede0ff', '#fdeee0ff', '#fdefdfff', '#fdefdfff', '#fdf0dfff', '#fdf1deff', '#fdf2deff', '#fdf3ddff', '#fdf3ddff', '#fdf4ddff', '#fdf5dcff', '#fdf5dcff', '#fdf5dbff', '#fdf6dbff', '#fdf6dbff', '#fdf6daff', '#fdf6daff', '#fcf6d9ff', '#fcf6d9ff', '#fbf6d9ff', '#faf7d8ff', '#f9f7d8ff', '#f8f7d8ff', '#f8f8d8ff', '#f7f8d8ff', '#f6f9d8ff', '#f5f9d8ff', '#f4f9d7ff', '#f4fad7ff', '#f3fad7ff', '#f2fbd7ff', '#f1fbd7ff', '#f0fbd6ff', '#f0fcd6ff', '#effcd6ff', '#eefdd6ff', '#edfdd6ff', '#ecfdd6ff', '#ecfed6ff', '#ebfed6ff', '#eaffd6ff', '#e9ffd6ff', '#e8ffd6ff', '#e8ffd7ff', '#e7ffd8ff', '#e6ffd9ff', '#e5ffdaff', '#e4ffdaff', '#e3ffdbff', '#e3ffdcff', '#e2ffddff', '#e1ffdeff', '#e0ffdeff', '#e0ffdfff', '#e0ffe0ff', '#dfffe1ff', '#dfffe2ff', '#deffe2ff', '#deffe3ff', '#deffe4ff', '#ddffe5ff', '#ddffe6ff', '#dcffe6ff', '#dcffe7ff', '#dcffe8ff', '#dbffe9ff', '#dbffeaff', '#daffeaff', '#daffebff', '#daffecff', '#d9ffedff', '#d9ffeeff', '#d9feeeff', '#d9feefff', '#d9fef0ff', '#d9fdf1ff', '#d9fdf2ff', '#d9fcf2ff', '#d9fcf3ff', '#d9fcf4ff', '#d9fbf5ff', '#d9fbf6ff', '#d9faf6ff', '#d9faf7ff', '#d9faf8ff', '#d9f9f9ff', '#d9f9faff', '#d9f8faff', '#d9f8fbff', '#d9f8fcff', '#d9f7fdff', '#d9f7feff', '#d9f6feff', '#d9f6feff', '#d9f5feff', '#d8f4feff', '#d8f3feff', '#d7f2feff', '#d7f2feff', '#d7f1feff', '#d6f0fdff', '#d6effdff', '#d5eefdff', '#d5ecfcff', '#d5ebfcff', '#d4eafbff', '#d4e9fbff', '#d3e8fbff', '#d3e6faff', '#d3e5faff', '#d2e4f9ff', '#d2e3f9ff', '#d1e2f9ff', '#d1e0f8ff', '#d1dff8ff', '#d0def7ff', '#d0dcf7ff', '#cfdbf7ff', '#cfd8f8ff', '#cfd6f8ff', '#cfd3f8ff', '#cfcef7ff', '#cfc9f7ff', '#d0c4f6ff', '#d0bef5ff', '#d0b8f4ff', '#d1b2f3ff', '#d1abf3ff', '#d2a5f1ff', '#d39ff0ff', '#d498eeff', '#d492ecff', '#d58beaff', '#d686e7ff', '#d780e3ff', '#d87bdfff', '#d876dbff', '#d971d7ff', '#da6dd3ff', '#db6acfff', '#dc67caff', '#dc64c3ff', '#dd62bdff', '#de5fb7ff', '#df5cb1ff', '#df59abff', '#e056a5ff', '#e0549fff', '#e05198ff', '#e04d91ff', '#e04a8bff', '#df4784ff', '#df447dff', '#de4176ff', '#dd3d6fff', '#dc3a69ff', '#db3764ff', '#db345fff', '#da3159ff', '#d92e54ff', '#d82b4fff', '#d7294aff', '#d72645ff', '#d62541ff', '#d5233cff', '#d42137ff', '#d32035ff', '#d31e32ff', '#d21d2fff', '#d11b2cff', '#d01b2bff', '#cf1e2aff', '#ce212aff', '#ce2529ff', '#cd2829ff', '#cc2c29ff', '#cc3028ff', '#cb3328ff', '#cb3927ff', '#cb3f27ff', '#cc4427ff', '#cc4926ff', '#cd4d26ff', '#cf5225ff', '#d15725ff', '#d35c25ff', '#d56124ff', '#d86724ff', '#da6d23ff', '#dd7323ff', '#df7a23ff', '#e18122ff', '#e48822ff', '#e69021ff', '#e79821ff', '#e99f21ff', '#eba520ff', '#eeaa20ff', '#f0af1fff', '#f1b41fff', '#f3b81fff', '#f4bd1eff', '#f6c21eff', '#f9c61eff', '#fcca1eff', '#fece1eff', '#fccf1eff', '#f9d11fff', '#f5d01fff', '#f0cf1fff', '#eace20ff', '#e5cc20ff', '#e0ca21ff', '#d9c821ff', '#d2c721ff', '#cbc521ff', '#c4c421ff', '#bdc321ff', '#b6c121ff', '#aec021ff', '#a7be21ff', '#9fbd21ff', '#97bd21ff', '#8fbc21ff', '#86bb22ff', '#7eba23ff', '#76ba25ff', '#6fb927ff', '#67b929ff', '#5fb92bff', '#57b92dff', '#53ba31ff', '#4eba34ff', '#49bb38ff', '#45bb3cff', '#42bc40ff', '#3ebd45ff', '#3bbe4aff', '#39bf4fff', '#37bf55ff', '#35c05bff', '#33c161ff', '#32c267ff', '#31c36dff', '#30c473ff', '#2fc578ff', '#2dc77eff', '#2cc883ff', '#2bc889ff', '#29c98fff', '#28c994ff', '#26c99aff', '#24c8a0ff', '#23c8a6ff', '#22c6abff', '#21c5b0ff', '#1fc4b5ff', '#1ec2bbff', '#1dc0c0ff', '#1bbec4ff', '#1abcc9ff', '#18b8ccff', '#17b4d0ff', '#16b0d2ff', '#15abd4ff', '#14a6d6ff', '#12a2d8ff', '#119dd9ff', '#1198dbff', '#1193dbff', '#118edcff', '#118adcff', '#1285dcff', '#1380dcff', '#147bdcff', '#1476dcff', '#1572dcff', '#166ddcff', '#1768dcff', '#1863dcff', '#185edbff', '#195adbff', '#1a55daff', '#1b50d9ff', '#1c4bd8ff', '#1c46d7ff', '#1d42d7ff', '#1e3dd6ff', '#1f38d5ff', '#2033d4ff', '#202fd3ff', '#212ad3ff', '#2226d2ff', '#2323d1ff', '#251fcfff', '#261cceff', '#291acdff', '#2b19ccff', '#2e19cbff', '#3119c9ff', '#341ac8ff', '#371ac7ff', '#391ac5ff', '#3c1bc3ff', '#3f1cc1ff', '#421dbfff', '#451dbdff', '#471ebbff', '#4a1fb9ff', '#4d20b7ff', '#5021b4ff', '#5221b1ff', '#5422adff', '#5523a9ff', '#5724a6ff', '#5825a2ff', '#59259fff', '#5a269bff', '#5b2797ff', '#5c2894ff', '#5d2a90ff', '#5c2b8dff', '#5c2d89ff', '#5c2f85ff', '#5b3182ff', '#5a337eff', '#59357bff', '#583777ff', '#573873ff', '#563970ff', '#553b6cff', '#543c69ff', '#533d65ff', '#513e62ff', '#503e5eff', '#4f3f5aff', '#4e3f57ff', '#4d3f53ff', '#4b3e50ff', '#4a3d4cff', '#493c49ff', '#483a46ff', '#473944ff', '#463741ff', '#45353fff', '#44333cff', '#43313aff', '#422f37ff', '#422d35ff', '#412c33ff', '#402a30ff', '#3f282eff', '#3e272cff', '#3e252aff', '#3d2529ff', '#3c2427ff', '#3b2326ff', '#3a2225ff', '#3a2123ff', '#392122ff', '#382021ff', '#371f20ff', '#361e1fff', '#361d1eff', '#351d1eff', '#341c1dff', '#331b1cff', '#321a1bff', '#311a1aff', '#30191aff', '#2e1919ff', '#2d1818ff', '#2b1717ff', '#291616ff', '#281616ff', '#261515ff', '#251414ff', '#231313ff', '#211212ff', '#201212ff', '#1e1111ff', '#1d1010ff', '#1b0f0fff', '#190e0eff', '#180e0eff', '#160d0dff', '#150c0cff', '#130c0cff', '#110b0bff', '#100b0bff', '#0e0b0bff', '#0d0a0aff', '#0b0a0aff', '#090909ff', '#090909ff', '#090909ff', '#080808ff', '#080808ff', '#070707ff', '#070707ff', '#070707ff', '#060606ff', '#060606ff', '#050505ff', '#050505ff', '#050505ff', '#040404ff', '#040404ff', '#030303ff', '#030303ff', '#030303ff', '#020202ff', '#020202ff', '#040404ff', '#696969ff', '#cececeff', '#cbcbcbff', '#656565ff', '#000000ff']);
    

    color_map_5d6815f4c7947e3e6ed6361c521e71f6.x = d3.scale.linear()
              .domain([14.0, 24.0])
              .range([0, 400]);

    color_map_5d6815f4c7947e3e6ed6361c521e71f6.legend = L.control({position: 'topright'});
    color_map_5d6815f4c7947e3e6ed6361c521e71f6.legend.onAdd = function (map) {var div = L.DomUtil.create('div', 'legend'); return div};
    color_map_5d6815f4c7947e3e6ed6361c521e71f6.legend.addTo(map_f5225a84298bfe4b8a0b7738224a4a01);

    color_map_5d6815f4c7947e3e6ed6361c521e71f6.xAxis = d3.svg.axis()
        .scale(color_map_5d6815f4c7947e3e6ed6361c521e71f6.x)
        .orient("top")
        .tickSize(1)
        .tickValues([14.0, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 15.004999999999999, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 16.009999999999998, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 17.015, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 18.02, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 19.025, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 20.03, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 21.035, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 22.04, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 23.045, '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '']);

    color_map_5d6815f4c7947e3e6ed6361c521e71f6.svg = d3.select(".legend.leaflet-control").append("svg")
        .attr("id", 'legend')
        .attr("width", 450)
        .attr("height", 60);

    color_map_5d6815f4c7947e3e6ed6361c521e71f6.g = color_map_5d6815f4c7947e3e6ed6361c521e71f6.svg.append("g")
        .attr("class", "key")
        .attr("transform", "translate(25,22)");

    color_map_5d6815f4c7947e3e6ed6361c521e71f6.g.selectAll("rect")
        .data(color_map_5d6815f4c7947e3e6ed6361c521e71f6.color.range().map(function(d, i) {
          return {
            x0: i ? color_map_5d6815f4c7947e3e6ed6361c521e71f6.x(color_map_5d6815f4c7947e3e6ed6361c521e71f6.color.domain()[i - 1]) : color_map_5d6815f4c7947e3e6ed6361c521e71f6.x.range()[0],
            x1: i < color_map_5d6815f4c7947e3e6ed6361c521e71f6.color.domain().length ? color_map_5d6815f4c7947e3e6ed6361c521e71f6.x(color_map_5d6815f4c7947e3e6ed6361c521e71f6.color.domain()[i]) : color_map_5d6815f4c7947e3e6ed6361c521e71f6.x.range()[1],
            z: d
          };
        }))
      .enter().append("rect")
        .attr("height", 15)
        .attr("x", function(d) { return d.x0; })
        .attr("width", function(d) { return d.x1 - d.x0; })
        .style("fill", function(d) { return d.z; });

    color_map_5d6815f4c7947e3e6ed6361c521e71f6.g.call(color_map_5d6815f4c7947e3e6ed6361c521e71f6.xAxis).append("text")
        .attr("class", "caption")
        .attr("y", 32)
        .text('Magnitud');
}
</script>